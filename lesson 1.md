Introduction to R and Data Science: Lesson 1
========================================================
author: Dai ZJ
transition: rotate
width: 1650
height: 1050



About Me
========================================================  
- Name: Dai Zhuo Jia (ZJ)
- Australian-Chinese
- B.Sc (Pure maths) and Master of Statistics
- Been a useR since 2003
- Author of R package ShinySky (https://github.com/AnalytixWare/ShinySky)

What is R?
========================================================  
**R** is 
- a programming *environment*, not just a language
- for doing statistics (2000's - analytics, 2010's data science)
- first developed in New Zealand in 1998 by **R**oss Ihaka and **R**obert Gentleman
- it's actually based on the S language deviced in mid-1970's

Why Learn R?
========================================================
- Data Science is one of fastest growing fields
- R is one of the premiere languages in this field

What is R great for?
========================================================
- Statistical Analysis


```r
summary(cars)
```

```
     speed           dist    
 Min.   : 4.0   Min.   :  2  
 1st Qu.:12.0   1st Qu.: 26  
 Median :15.0   Median : 36  
 Mean   :15.4   Mean   : 43  
 3rd Qu.:19.0   3rd Qu.: 56  
 Max.   :25.0   Max.   :120  
```


What is R great for?
========================================================  
- Graphing

![plot of chunk unnamed-chunk-2](lesson_1-figure/unnamed-chunk-2.png) 


Starting out
========================================================  
- Install R (http://cran.rstudio.com/)
- Install RStudio (http://www.rstudio.com/ide/download/desktop)
- Go to the console
- type 1 + 1, then enter. You get


```r
1 + 1
```

```
[1] 2
```


R is interactive
========================================================  
- The result of what you type will get reflected right away
- R does not do integer arithmetics, so 3 / 2 does NOT give you 1

```r
3 / 2
```

```
[1] 1.5
```


Arithmetic in R
========================================================
Operation  | Usage | Usage
------------- | ------------- | -------------
Addition  | a + b | 
Subtraction  | a - b
Mulitplication  | a * b
Divison  | a / b
Exponetiation | a ^ b or a ** b
Modulo | a %% b | 5 %% 3 gives 2
Matrix Mult | a %*% b | 
  
Variables
========================================================
You can set values to variables, called **assignment**
  
- a = 1
- b <- 2
- 3 -> d


```r
a = 1
b <- 2
3 -> d
e <- a + b + d
e
```

```
[1] 6
```


Variable Name Conventions
========================================================
Rule | Usage &  Example
------------- | ------------- 
Can use alphanumeric | a-z A-Z 0-9
. and _ can be used |  var.name & var_name are valid name
Cannot start with numbers or _ | 1name & _name are NOT allowed
Most other symbols (e.g. ,!~`'"-\$ ) can NOT be used | abc! is NOT a valid name 
Case SENSITIVE | abc & ABC are two distinct variable names
                    
Disregard all rules (except case sensivity) with back-tick \\`

```r
`1 whatever name you want !$` <- 100
`1 whatever name you want !$`
```

```
[1] 100
```

                    
Is this a valid variable name?
========================================================
- a_
- 1a2
- a1b
- ._
- _abc
- .89
                    
Vectors in R
========================================================
One of most useful and powerful features of R is working with vectors

The main command is **c** whichs stands for **c**ombine


```r
primes.1.to.5 <- c(2,3,5,7,11)
sum(primes.1.to.5)
```

```
[1] 28
```

```r
diff(primes.1.to.5)
```

```
[1] 1 2 2 4
```


More Vector Operations
========================================================

```r
primes.1.to.5 <- c(2,3,5,7,11)
max(primes.1.to.5)
```

```
[1] 11
```

```r
min(primes.1.to.5)
```

```
[1] 2
```


Set Operations
========================================================

```r
vector.a <- c(1,2,3)
vector.b <- c(3,4,5)
vector.c <- c(vector.a,vector.b)
vector.c
```

```
[1] 1 2 3 3 4 5
```

```r
unique(vector.c)
```

```
[1] 1 2 3 4 5
```

```r
intersect(vector.a, vector.b)
```

```
[1] 3
```

```r
vector.c.sorted <- sort(vector.c, decreasing = TRUE)
```


Sorting
========================================================

```r
vector.c.desc <- sort(vector.c, decreasing = TRUE)
vector.c.desc
```

```
[1] 5 4 3 3 2 1
```

```r
sort(vector.c.desc)
```

```
[1] 1 2 3 3 4 5
```


Arithmetic Operations on vectors
========================================================
Every element in the vector happens

```r
numbers3 <- 1:5
numbers3 * 2
```

```
[1]  2  4  6  8 10
```


What happens internally
- R needs two vectors of the SAME length
- so 2 gets converted to c(2,2,2,2,2)
- then c(1,2,3,4,5) * c(2,2,2) = c(1 * 2, 2 * 2, 3 * 2,4 *2, 5 *2)
- gives c(2,4,6,8,10)

Vector Recycling
========================================================

```r
numbers3 <- 1:5
numbers3 * c(1,2)
```

```
[1] 1 4 3 8 5
```


Can you understand why?
- R needs two vectors of the SAME length
- so it **recycles** the shorter vector
- so c(1, 2) gets repeated up to c(1, 2, 1, 2, 1)
- c(1,2,3,4,5) * c(1,2,1,2,1) = c(1 * 2, 2 * 2, 3 * 1, 4 * 2, 5 * 1)
- gives c(1, 4,3 ,8 ,5)

Exercise
========================================================

```r
sum(2:5)
diff(10:15)
2:5 - 1
2:5 * 3
1:5 * 1:3
```


Exercise (Solution)
========================================================

```r
sum(2:5)
```

```
[1] 14
```

```r
diff(10:15)
```

```
[1] 1 1 1 1 1
```

```r
2:5 - 1
```

```
[1] 1 2 3 4
```

```r
2:5 * 3
```

```
[1]  6  9 12 15
```

```r
1:5 * 1:3
```

```
[1]  1  4  9  4 10
```


Number Indexing
========================================================

```r
numbers10 <- 1:5
numbers10[2]
```

```
[1] 2
```

```r
numbers10[2:4]
```

```
[1] 2 3 4
```

```r
numbers10[4:7]
```

```
[1]  4  5 NA NA
```

```r

# you can also use indexing to change the data to this
numbers10[2] <- 100
numbers10
```

```
[1]   1 100   3   4   5
```

```r
numbers10[c(1,3:4)] <- c(999, 999, 999)
numbers10
```

```
[1] 999 100 999 999   5
```


Exercises
========================================================
Create a vector (1001, 1000, 999, ...., 2, 1, 0, 1, 2,...,1001)

Exercises (Solution)
========================================================

```r
c(1001:0,1:1001)
```

```
   [1] 1001 1000  999  998  997  996  995  994  993  992  991  990  989
  [14]  988  987  986  985  984  983  982  981  980  979  978  977  976
  [27]  975  974  973  972  971  970  969  968  967  966  965  964  963
  [40]  962  961  960  959  958  957  956  955  954  953  952  951  950
  [53]  949  948  947  946  945  944  943  942  941  940  939  938  937
  [66]  936  935  934  933  932  931  930  929  928  927  926  925  924
  [79]  923  922  921  920  919  918  917  916  915  914  913  912  911
  [92]  910  909  908  907  906  905  904  903  902  901  900  899  898
 [105]  897  896  895  894  893  892  891  890  889  888  887  886  885
 [118]  884  883  882  881  880  879  878  877  876  875  874  873  872
 [131]  871  870  869  868  867  866  865  864  863  862  861  860  859
 [144]  858  857  856  855  854  853  852  851  850  849  848  847  846
 [157]  845  844  843  842  841  840  839  838  837  836  835  834  833
 [170]  832  831  830  829  828  827  826  825  824  823  822  821  820
 [183]  819  818  817  816  815  814  813  812  811  810  809  808  807
 [196]  806  805  804  803  802  801  800  799  798  797  796  795  794
 [209]  793  792  791  790  789  788  787  786  785  784  783  782  781
 [222]  780  779  778  777  776  775  774  773  772  771  770  769  768
 [235]  767  766  765  764  763  762  761  760  759  758  757  756  755
 [248]  754  753  752  751  750  749  748  747  746  745  744  743  742
 [261]  741  740  739  738  737  736  735  734  733  732  731  730  729
 [274]  728  727  726  725  724  723  722  721  720  719  718  717  716
 [287]  715  714  713  712  711  710  709  708  707  706  705  704  703
 [300]  702  701  700  699  698  697  696  695  694  693  692  691  690
 [313]  689  688  687  686  685  684  683  682  681  680  679  678  677
 [326]  676  675  674  673  672  671  670  669  668  667  666  665  664
 [339]  663  662  661  660  659  658  657  656  655  654  653  652  651
 [352]  650  649  648  647  646  645  644  643  642  641  640  639  638
 [365]  637  636  635  634  633  632  631  630  629  628  627  626  625
 [378]  624  623  622  621  620  619  618  617  616  615  614  613  612
 [391]  611  610  609  608  607  606  605  604  603  602  601  600  599
 [404]  598  597  596  595  594  593  592  591  590  589  588  587  586
 [417]  585  584  583  582  581  580  579  578  577  576  575  574  573
 [430]  572  571  570  569  568  567  566  565  564  563  562  561  560
 [443]  559  558  557  556  555  554  553  552  551  550  549  548  547
 [456]  546  545  544  543  542  541  540  539  538  537  536  535  534
 [469]  533  532  531  530  529  528  527  526  525  524  523  522  521
 [482]  520  519  518  517  516  515  514  513  512  511  510  509  508
 [495]  507  506  505  504  503  502  501  500  499  498  497  496  495
 [508]  494  493  492  491  490  489  488  487  486  485  484  483  482
 [521]  481  480  479  478  477  476  475  474  473  472  471  470  469
 [534]  468  467  466  465  464  463  462  461  460  459  458  457  456
 [547]  455  454  453  452  451  450  449  448  447  446  445  444  443
 [560]  442  441  440  439  438  437  436  435  434  433  432  431  430
 [573]  429  428  427  426  425  424  423  422  421  420  419  418  417
 [586]  416  415  414  413  412  411  410  409  408  407  406  405  404
 [599]  403  402  401  400  399  398  397  396  395  394  393  392  391
 [612]  390  389  388  387  386  385  384  383  382  381  380  379  378
 [625]  377  376  375  374  373  372  371  370  369  368  367  366  365
 [638]  364  363  362  361  360  359  358  357  356  355  354  353  352
 [651]  351  350  349  348  347  346  345  344  343  342  341  340  339
 [664]  338  337  336  335  334  333  332  331  330  329  328  327  326
 [677]  325  324  323  322  321  320  319  318  317  316  315  314  313
 [690]  312  311  310  309  308  307  306  305  304  303  302  301  300
 [703]  299  298  297  296  295  294  293  292  291  290  289  288  287
 [716]  286  285  284  283  282  281  280  279  278  277  276  275  274
 [729]  273  272  271  270  269  268  267  266  265  264  263  262  261
 [742]  260  259  258  257  256  255  254  253  252  251  250  249  248
 [755]  247  246  245  244  243  242  241  240  239  238  237  236  235
 [768]  234  233  232  231  230  229  228  227  226  225  224  223  222
 [781]  221  220  219  218  217  216  215  214  213  212  211  210  209
 [794]  208  207  206  205  204  203  202  201  200  199  198  197  196
 [807]  195  194  193  192  191  190  189  188  187  186  185  184  183
 [820]  182  181  180  179  178  177  176  175  174  173  172  171  170
 [833]  169  168  167  166  165  164  163  162  161  160  159  158  157
 [846]  156  155  154  153  152  151  150  149  148  147  146  145  144
 [859]  143  142  141  140  139  138  137  136  135  134  133  132  131
 [872]  130  129  128  127  126  125  124  123  122  121  120  119  118
 [885]  117  116  115  114  113  112  111  110  109  108  107  106  105
 [898]  104  103  102  101  100   99   98   97   96   95   94   93   92
 [911]   91   90   89   88   87   86   85   84   83   82   81   80   79
 [924]   78   77   76   75   74   73   72   71   70   69   68   67   66
 [937]   65   64   63   62   61   60   59   58   57   56   55   54   53
 [950]   52   51   50   49   48   47   46   45   44   43   42   41   40
 [963]   39   38   37   36   35   34   33   32   31   30   29   28   27
 [976]   26   25   24   23   22   21   20   19   18   17   16   15   14
 [989]   13   12   11   10    9    8    7    6    5    4    3    2    1
[1002]    0    1    2    3    4    5    6    7    8    9   10   11   12
[1015]   13   14   15   16   17   18   19   20   21   22   23   24   25
[1028]   26   27   28   29   30   31   32   33   34   35   36   37   38
[1041]   39   40   41   42   43   44   45   46   47   48   49   50   51
[1054]   52   53   54   55   56   57   58   59   60   61   62   63   64
[1067]   65   66   67   68   69   70   71   72   73   74   75   76   77
[1080]   78   79   80   81   82   83   84   85   86   87   88   89   90
[1093]   91   92   93   94   95   96   97   98   99  100  101  102  103
[1106]  104  105  106  107  108  109  110  111  112  113  114  115  116
[1119]  117  118  119  120  121  122  123  124  125  126  127  128  129
[1132]  130  131  132  133  134  135  136  137  138  139  140  141  142
[1145]  143  144  145  146  147  148  149  150  151  152  153  154  155
[1158]  156  157  158  159  160  161  162  163  164  165  166  167  168
[1171]  169  170  171  172  173  174  175  176  177  178  179  180  181
[1184]  182  183  184  185  186  187  188  189  190  191  192  193  194
[1197]  195  196  197  198  199  200  201  202  203  204  205  206  207
[1210]  208  209  210  211  212  213  214  215  216  217  218  219  220
[1223]  221  222  223  224  225  226  227  228  229  230  231  232  233
[1236]  234  235  236  237  238  239  240  241  242  243  244  245  246
[1249]  247  248  249  250  251  252  253  254  255  256  257  258  259
[1262]  260  261  262  263  264  265  266  267  268  269  270  271  272
[1275]  273  274  275  276  277  278  279  280  281  282  283  284  285
[1288]  286  287  288  289  290  291  292  293  294  295  296  297  298
[1301]  299  300  301  302  303  304  305  306  307  308  309  310  311
[1314]  312  313  314  315  316  317  318  319  320  321  322  323  324
[1327]  325  326  327  328  329  330  331  332  333  334  335  336  337
[1340]  338  339  340  341  342  343  344  345  346  347  348  349  350
[1353]  351  352  353  354  355  356  357  358  359  360  361  362  363
[1366]  364  365  366  367  368  369  370  371  372  373  374  375  376
[1379]  377  378  379  380  381  382  383  384  385  386  387  388  389
[1392]  390  391  392  393  394  395  396  397  398  399  400  401  402
[1405]  403  404  405  406  407  408  409  410  411  412  413  414  415
[1418]  416  417  418  419  420  421  422  423  424  425  426  427  428
[1431]  429  430  431  432  433  434  435  436  437  438  439  440  441
[1444]  442  443  444  445  446  447  448  449  450  451  452  453  454
[1457]  455  456  457  458  459  460  461  462  463  464  465  466  467
[1470]  468  469  470  471  472  473  474  475  476  477  478  479  480
[1483]  481  482  483  484  485  486  487  488  489  490  491  492  493
[1496]  494  495  496  497  498  499  500  501  502  503  504  505  506
[1509]  507  508  509  510  511  512  513  514  515  516  517  518  519
[1522]  520  521  522  523  524  525  526  527  528  529  530  531  532
[1535]  533  534  535  536  537  538  539  540  541  542  543  544  545
[1548]  546  547  548  549  550  551  552  553  554  555  556  557  558
[1561]  559  560  561  562  563  564  565  566  567  568  569  570  571
[1574]  572  573  574  575  576  577  578  579  580  581  582  583  584
[1587]  585  586  587  588  589  590  591  592  593  594  595  596  597
[1600]  598  599  600  601  602  603  604  605  606  607  608  609  610
[1613]  611  612  613  614  615  616  617  618  619  620  621  622  623
[1626]  624  625  626  627  628  629  630  631  632  633  634  635  636
[1639]  637  638  639  640  641  642  643  644  645  646  647  648  649
[1652]  650  651  652  653  654  655  656  657  658  659  660  661  662
[1665]  663  664  665  666  667  668  669  670  671  672  673  674  675
[1678]  676  677  678  679  680  681  682  683  684  685  686  687  688
[1691]  689  690  691  692  693  694  695  696  697  698  699  700  701
[1704]  702  703  704  705  706  707  708  709  710  711  712  713  714
[1717]  715  716  717  718  719  720  721  722  723  724  725  726  727
[1730]  728  729  730  731  732  733  734  735  736  737  738  739  740
[1743]  741  742  743  744  745  746  747  748  749  750  751  752  753
[1756]  754  755  756  757  758  759  760  761  762  763  764  765  766
[1769]  767  768  769  770  771  772  773  774  775  776  777  778  779
[1782]  780  781  782  783  784  785  786  787  788  789  790  791  792
[1795]  793  794  795  796  797  798  799  800  801  802  803  804  805
[1808]  806  807  808  809  810  811  812  813  814  815  816  817  818
[1821]  819  820  821  822  823  824  825  826  827  828  829  830  831
[1834]  832  833  834  835  836  837  838  839  840  841  842  843  844
[1847]  845  846  847  848  849  850  851  852  853  854  855  856  857
[1860]  858  859  860  861  862  863  864  865  866  867  868  869  870
[1873]  871  872  873  874  875  876  877  878  879  880  881  882  883
[1886]  884  885  886  887  888  889  890  891  892  893  894  895  896
[1899]  897  898  899  900  901  902  903  904  905  906  907  908  909
[1912]  910  911  912  913  914  915  916  917  918  919  920  921  922
[1925]  923  924  925  926  927  928  929  930  931  932  933  934  935
[1938]  936  937  938  939  940  941  942  943  944  945  946  947  948
[1951]  949  950  951  952  953  954  955  956  957  958  959  960  961
[1964]  962  963  964  965  966  967  968  969  970  971  972  973  974
[1977]  975  976  977  978  979  980  981  982  983  984  985  986  987
[1990]  988  989  990  991  992  993  994  995  996  997  998  999 1000
[2003] 1001
```


Boolean
========================================================
Boolean is the TRUE/FALSE data type
- TRUE or T
- FALSE or T
- == tests for equality e.g. 1 == 1 is TRUE 0 == 2 is FALSE
- 2 > 1 evaluates to TRUE
- 2 < 3 evaluates to FALSE

Boolean (TRUE/FALSE) Indexing
========================================================

```r
numbers10 <- 1:5
numbers10[c(T, F, T, F, T)]
```

```
[1] 1 3 5
```


Filtering
========================================================
Find all multiples of 2 less than or equal to 10

```r
numbers10 <- 1:10
numbers10[c(FALSE,TRUE)] # cycling
```

```
[1]  2  4  6  8 10
```

```r
numbers10 %% 2 == 0
```

```
 [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE
```

```r
numbers10[numbers10 %% 2 == 0]
```

```
[1]  2  4  6  8 10
```


Exercise
========================================================
- Store all the multiple of 3s under 100 in a vector
- Store all the multiple of 5s less than or equal to 100 in a vector
- Find those numbers that are either multiples of 3 and/or multiples of 5, no repeats allowed
- Find their sum


Exercise (Solution)
========================================================

```r
# solution 1
multiple.3 <- (1:100)[1:100 %% 3 == 0]
multiple.5 <- (1:100)[1:100 %% 5 == 0]
final.ans <- unique(c(multiple.3, multiple.5))
sum(final.ans)
```

```
[1] 2418
```

```r

# solution 2
final.ans <- (1:100)[1:100 %% 3 == 0 | 1:100 %% 5 == 0]
sum(final.ans)
```

```
[1] 2418
```


Boolean Operations
========================================================
Name  | R Symbol | Example
------------- | ------------- | -------------
And  | & | 1 == 1 & 0 == 0
Or  | &#124;  | T &#124; F
Not | ! | 0 != 0, !1 == 1

Truth Table
========================================================
and (&)

a  | b | a & b
------------- | ------------- | -------------
FALSE | FALSE | FALSE
FALSE | TRUE | FALSE
TRUE | FALSE | FALSE
TRUE | TRUE | TRUE

or (|)

a  | b | a &#124; b
------------- | ------------- | -------------
FALSE | FALSE | FALSE
FALSE | TRUE | TRUE
TRUE | FALSE | TRUE
TRUE | TRUE | TRUE

Exercise
========================================================
Find the sum of all numbers below 100 that are a multiple of 3 but NOT a multiple of 5

Exercise (Solution)
========================================================
Find the sum of all numbers below 100 that are a multiple of 3 but NOT a multiple of 5

```r
numbers100 <- 1:100
final <- numbers100[numbers100 %% 3 == 0 & !numbers100 %% 5 ==0]
sum(final)
```

```
[1] 1368
```


Vector's elements must be of the same type
========================================================
You can a vector of numbers, boolean, and strings (characters)

```r
c(1,2,3)
```

```
[1] 1 2 3
```

```r
c(T,F,T)
```

```
[1]  TRUE FALSE  TRUE
```

```r
c(10,T,F,T,100)
```

```
[1]  10   1   0   1 100
```


Vector's elements must be of the same type
========================================================
If you mix the types it will converted to first, strings, and second, numerics.

```r
c("a","b","c")
```

```
[1] "a" "b" "c"
```

```r
c(1,"a",T)
```

```
[1] "1"    "a"    "TRUE"
```


The factor data-type
========================================================
We have studied
- numerics (integers and real numbers)
- boolean (true/false)
- strings (letters, and other characters and symbols)

Factors is a data type that is unique to R
- A factor is a finite set of values
- E.g. Male, Female can be the distinct values for a factor

```r
mf <- factor(c("Male","Female"))
mf
```

```
[1] Male   Female
Levels: Female Male
```

```r
# levels of a factor refers to the possible distinct values
levels(mf)
```

```
[1] "Female" "Male"  
```


Factors - continued
========================================================
- The *levels* are the external presentation of the factors
- Internally it's stored as integers (this fact is significant and can lead to some elegant code)

```r
mf
```

```
[1] Male   Female
Levels: Female Male
```

```r
as.numeric(mf)
```

```
[1] 2 1
```


- Factors can be ordinal or non-ordinal
- Ordinal - there is some natural order structure to it e.g. Income Brackets
- non-ordinal - no necessary order to it e..g apple, oranges, banana
  
Factors - Basic summary
========================================================

```r
summary(iris$Species)
```

```
    setosa versicolor  virginica 
        50         50         50 
```

```r

plot(iris$Species)
```

![plot of chunk unnamed-chunk-25](lesson_1-figure/unnamed-chunk-25.png) 

```r

table(iris$Species)
```

```

    setosa versicolor  virginica 
        50         50         50 
```


Seeking Help
========================================================
The documentation will show in the **Help** tab

```r
?sum
??deeper_search

# getting examples
example(min)
```


- The power of tab: type the first few characters of a function then press tab

Useful websites
- stackoverflow.com General programmings questions

