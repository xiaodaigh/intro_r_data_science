Lesson 3 - Function
========================================================
author: Dai ZJ
transition: rotate
width: 1650
height: 1050




Function
========================================================
A function takes some inputs and produce an output
- example of functions: sum, min, max
- you can define your own function

```r
# create a funciton that adds two numbers together
# the output of the function is by default the function's last line
add2 <- function(a,b) {
  a + b
}

# create a function that returns T is a is even
# or one can specify a returned value via the return function
is.even <- function(a) {
  if(a %% 2 ==0) {
    return(TRUE)
  } else {
    return(FALSE)
  }
}

is.even(10)
```

```
[1] TRUE
```

```r
is.even(99)
```

```
[1] FALSE
```


R is a functional language
========================================================
- Narrowly speaking funcitonal languages are programming languages where functions play a key and prominent role
- In R you can pass functions as arguments to functions
  - In a sense functions are treated like any other data
  - this is a hallmark of functional programming languages
  - The most hardcore functional languages don't use loops like **for** and **while**

R is a functional language
========================================================
- There are two broad types of functions
  - primitive
  - user defined

```r
# primitive function has the
sum
```

```
function (..., na.rm = FALSE)  .Primitive("sum")
```

```r

# user-defined
# as you can see typing the functions names gives you the source code of that function
is.even
```

```
function(a) {
  if(a %% 2 ==0) {
    return(TRUE)
  } else {
    return(FALSE)
  }
}
```


Exercise
========================================================

```r
strReverse <- function(x) {
  sapply(lapply(strsplit(x, NULL), rev), paste, collapse="")
}

#
a <- 100:999
a <- setdiff(101:999,seq(100,990,by=10))
a.pair <- combn(a,2)

a.product <- a.pair[1,] * a.pair[2,]

product.char <- as.character(a.product)
w <- which(product.char == strReverse(product.char))
w
```

```
   [1]      9     18     27     36     45     54     63     72     81
  [10]     91    100    109    118    127    136    145    154    163
  [19]    172    182    191    200    209    218    227    236    245
  [28]    254    263    273    282    291    300    309    318    327
  [37]    336    345    354    898    903   1084   1088   1269   1274
  [46]   1455   1459   1708   1753   1892   1937   2075   2120   2259
  [55]   2304   2513   2572   2696   2754   2879   3030   3061   3093
  [64]   3568   3592   3613   3637   4121   4139   4157   4175   4193
  [73]   4285   4303   4321   4955   5122   5290   5364   5532   5778
  [82]   5791   5934   5948   6077   6091   6104   6234   6247   6471
  [91]   6880   6960   7005   7040   7085   7165   7254   7263   7272
 [100]   7281   7290   7299   7309   7318   7327   7336   7345   7354
 [109]   7363   7372   7391   7400   7409   7418   7427   7436   7445
 [118]   7473   7482   7491   7500   7509   7518   7555   7564   7573
 [127]   7582   7591   7637   7646   7655   7664   7719   7728   7737
 [136]   7801   7810   7883   8134   8184   8284   8333   8474   8623
 [145]   8962   9137   9152   9327   9372   9387   9501   9749   9882
 [154]  10016  10079  10092  10212  10225  10745  10758  10777  11294
 [163]  11312  11330  11458  11476  11494  11604  11622  11640  11658
 [172]  11768  11786  11804  12146  12158  12334  12391  12510  12567
 [181]  12624  12687  12883  12910  13076  13210  13237  13344  13402
 [190]  13626  13848  13919  14035  14141  14257  14418  14464  14473
 [199]  14482  14491  14500  14546  14555  14564  14573  14582  14628
 [208]  14637  14646  14655  14664  14710  14719  14728  14737  14746
 [217]  14792  14801  14810  14819  14874  14883  14892  14956  14965
 [226]  15038  15093  15192  15289  15294  15298  15389  15394  15597
 [235]  15602  15693  15697  16012  16090  16123  16367  16401  16479
 [244]  16533  16611  16741  16841  16988  17019  17130  17308  17830
 [253]  17833  17868  17871  18422  18440  18586  18673  18819  18837
 [262]  19211  19295  19333  19456  19519  19557  19641  19680  20096
 [271]  20109  20123  20136  20150  20833  20940  20966  21073  21099
 [280]  21206  21232  21547  21556  21565  21629  21638  21647  22305
 [289]  22314  22472  22572  22631  22731  23083  23137  23188  23387
 [298]  23439  23852  23902  24026  24164  24288  24859  24864  24870
 [307]  24875  24880  25451  25548  25566  25729  25826  25844  26174
 [316]  26177  26240  26243  26306  26308  26371  26374  26437  26440
 [325]  26503  26505  26568  26571  26634  26637  26700  26768  27093
 [334]  27120  27214  27241  27268  27388  27755  27853  27932  27994
 [343]  28030  28092  28278  28540  28549  28558  29570  29574  29579
 [352]  29665  29670  29674  29679  30049  30118  30188  30257  30326
 [361]  30396  30465  30534  30547  30610  30673  30736  30799  30814
 [370]  30850  30947  30983  31080  31116  31182  31764  31778  31805
 [379]  31819  32359  32399  32464  32482  32523  32587  32605  32646
 [388]  32711  32729  32769  33247  33388  33417  33528  33558  33894
 [397]  33907  33921  33996  34010  34023  34126  34139  34242  34968
 [406]  35021  35057  35074  35110  35709  35718  35800  35809  36219
 [415]  36319  36328  36419  36428  36519  37142  37175  37263  37296
 [424]  37730  37823  37952  38080  38625  38650  38652  39318  39367
 [433]  39450  39551  39582  39992  40049  40067  40123  40248  40323
 [442]  40398  40466  40664  40761  40845  40872  40957  41091  41525
 [451]  41586  41763  41799  41896  42403  42412  42494  43783  43946
 [460]  43997  44160  44182  44530  44613  44738  44821  44857  45400
 [469]  45420  45427  45447  46090  46131  46231  46332  46778  46799
 [478]  46978  46998  47157  47627  47707  47720  47800  48398  48434
 [487]  48442  48637  49089  49309  49318  50512  50591  50675  50754
 [496]  50838  51211  51323  51420  51517  52104  52131  52782  52813
 [505]  52900  52932  52988  53019  53599  53617  53733  53817  54278
 [514]  54403  54478  54501  55049  55120  55191  55199  55575  55776
 [523]  55841  55923  55988  55997  56465  56470  56474  56479  56483
 [532]  56565  56570  56574  56579  56583  56588  56592  56665  56670
 [541]  56674  56679  56683  56688  56692  56697  56701  57369  57402
 [550]  57951  58128  58168  58713  58719  58724  58729  58735  59625
 [559]  60130  60148  60348  60545  60572  60743  60770  60797  60875
 [568]  61075  61620  61655  61752  61787  61822  62291  62365  62530
 [577]  63035  63044  63053  63062  63071  63144  63153  63162  63171
 [586]  63803  63903  63963  64023  64234  65253  65265  65940  66045
 [595]  66150  66664  66682  66789  66807  67480  67502  67569  67591
 [604]  68118  68206  68356  68890  68982  69065  69529  69533  69538
 [613]  69542  69547  69551  69556  69560  69565  70247  70340  70434
 [622]  70961  71054  71146  71734  72411  72480  72502  72572  72594
 [631]  73117  73320  73338  73995  74588  74614  74781  74934  75006
 [640]  75078  75159  75221  75243  75344  75446  76757  76791  76824
 [649]  76857  77448  78097  78105  78112  78787  78852  78865  78930
 [658]  79605  80260  80340  80362  80898  80941  80994  81021  81064
 [667]  81616  81736  82341  82346  82350  82355  82423  82428  82947
 [676]  83024  83033  83124  83193  83557  83757  83832  84399  84419
 [685]  85208  85908  85974  86303  86551  86617  87284  87311  87917
 [694]  88046  88083  88092  88200  88209  88317  88326  88434  88516
 [703]  88525  88587  88596  88605  88614  88669  88678  88687  89346
 [712]  89963  90051  90633  90638  90643  91418  92118  92139  92738
 [721]  92791  93307  93388  93415  93645  94174  94770  94775  94779
 [730]  94784  94852  94857  95272  95322  95371  96141  96189  97486
 [739]  97542  97569  98190  98543  98827  98916  99378  99578 100184
 [748] 100212 100240 100268 101665 101764 101863 101926 102076 102139
 [757] 102207 102268 104875 104941 105367 105546 105581 105616 105687
 [766] 106073 106371 107601 108682 108704 108754 108826 110087 110217
 [775] 111495 111583 112164 112201 112238 112311 112717 112839 112848
 [784] 113466 113481 113490 113499 113514 113523 113532 113541 113581
 [793] 113680 113779 113947 114046 114130 114162 114590 116142 116474
 [802] 117989 118033 118070 119373 119962 119967 121262 121621 121652
 [811] 121684 121715 121747 121778 121810 121841 121873 122249 122378
 [820] 122998 123176 123202 123830 125722 126124 126223 127430 127635
 [829] 128251 129096 129744 130861 130960 131059 131128 131227 131326
 [838] 133033 133745 134235 134257 134293 134316 134352 134374 134410
 [847] 134433 134469 134491 134909 135360 137531 138554 138980 139900
 [856] 140112 140175 140247 140372 140435 140507 140570 140895 143995
 [865] 144788 145629 145817 146015 146666 147412 147679 150317 151486
 [874] 151560 151569 151704 151786 151921 151930 152012 155507 157638
 [883] 157692 157746 157800 157854 160418 160547 163234 163270 163366
 [892] 163501 163537 163732 163964 164014 164063 164113 164162 166302
 [901] 166770 167365 168069 169072 169085 169099 169184 169198 170378
 [910] 170780 175333 176102 176454 177181 177481 177919 178327 178594
 [919] 180085 180125 180166 180206 180229 180269 180560 181602 182797
 [928] 183841 183890 183940 183989 184900 184949 185432 185459 185486
 [937] 185513 185540 185678 185705 185732 185759 185786 185985 187283
 [946] 187594 190683 190719 190759 190795 190831 190867 191123 191428
 [955] 192360 192958 193694 195489 195884 195947 196010 196054 196117
 [964] 196180 196243 196287 199039 199436 200564 200898 201007 201549
 [973] 201931 202367 202421 202471 202520 202847 203874 205453 205462
 [982] 205706 205715 205788 205797 206279 208729 209276 210288 210292
 [991] 210346 210351 210405 210409 210667 210725 212948 213228 214626
[1000] 215329 215365 215401 215408 215444 216575 218558 218766 219638
[1009] 219805 219832 219881 220077 220127 220154 220203 221270 221997
[1018] 222199 222387 225249 226384 228874 228923 229137 229186 229218
[1027] 229236 229267 230478 230680 231317 231466 233083 233276 233303
[1036] 233342 233369 233587 233614 233680 233990 235843 237329 237577
[1045] 237761 237797 237833 237869 237905 238245 238647 241326 241662
[1054] 241828 241980 242132 242891 243332 244401 244450 244500 244936
[1063] 245204 245253 245777 246917 247199 247807 247827 248455 249572
[1072] 249663 249672 249745 249754 250321 250391 253462 253493 253525
[1081] 253556 253588 253813 254989 255088 255320 257224 257240 257276
[1090] 257312 257516 258952 260297 260792 262389 262690 262967 264667
[1099] 264669 264689 264709 264729 264730 264750 264770 264792 264898
[1108] 264948 267596 267843 268026 268084 268766 271387 271486 271606
[1117] 271633 272121 272641 273203 273840 274078 274384 274513 274612
[1126] 274642 274683 274751 274787 274975 275485 276846 277194 277890
[1135] 277944 278789 279144 281511 281898 282176 282529 282747 283692
[1144] 283765 283774 283783 285991 286631 286785 286848 286853 287526
[1153] 287565 288796 288985 289556 289661 290008 290087 290251 291173
[1162] 291977 292292 292319 292936 293065 294156 294754 294767 294780
[1171] 294792 294805 294817 294830 294843 294855 296492 297358 297426
[1180] 297444 297862 297911 297961 298337 298877 299713 299815 300722
[1189] 302056 302105 302155 303267 304312 304383 306558 306752 306975
[1198] 307618 309712 310082 310122 310508 311909 311988 312033 312078
[1207] 313322 313622 313635 314526 316141 317877 318213 318258 318417
[1216] 319614 320025 320556 320694 320781 320798 320843 322647 323142
[1225] 323391 323736 323740 324636 324842 325306 325333
```

```r
max(a.product[w])
```

```
[1] 906609
```

        




